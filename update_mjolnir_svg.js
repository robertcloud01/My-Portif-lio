const fs = require('fs');
const path = require('path');

const svgPath = 'mijolnir/mjolnir_separated.svg';
const targetPath = 'src/components/ui/mjolnir/MjolnirSVG.tsx';

const svgContent = fs.readFileSync(svgPath, 'utf8');

// Extract the runes group content
const runesMatch = svgContent.match(/<g id="runes"[^>]*>([\s\S]*?)<\/g>/);
const runesContent = runesMatch ? runesMatch[1].trim() : '';

// Convert internal paths to React-safe attributes (if any, though paths usually don't have camelCase issues besides 'stroke-width' -> 'strokeWidth')
const reactSafeRunes = runesContent.replace(/stroke-width/g, 'strokeWidth');

const tsxContent = `import React, { forwardRef } from 'react';
import styles from './mjolnir.module.css';

interface MjolnirSVGProps {
    className?: string;
    hammerBodyRef?: React.Ref<SVGPathElement>;
    runesRef?: React.Ref<SVGGElement>;
    lightningRef?: React.Ref<SVGSVGElement>;
}

const MjolnirSVG = forwardRef<SVGSVGElement, MjolnirSVGProps>(({ className, hammerBodyRef, runesRef, lightningRef }, ref) => {
    return (
        <>
            <svg
                ref={ref}
                id="mjolnir-svg"
                className={\`\${styles.svg} \${className || ''}\`}
                width="100%"
                height="100%"
                viewBox="0 0 361.15625 203.2"
                version="1.1"
                xmlns="http://www.w3.org/2000/svg"
                preserveAspectRatio="xMidYMid meet"
                style={{ overflow: 'visible' }}
            >
                <defs>
                    <filter id="electric-glow-filter" x="-50%" y="-50%" width="200%" height="200%">
                        <feGaussianBlur in="SourceGraphic" stdDeviation="4" result="blur" />
                        <feMerge>
                            <feMergeNode in="blur" />
                            <feMergeNode in="SourceGraphic" />
                        </feMerge>
                        <feDropShadow dx="0" dy="0" stdDeviation="8" floodColor="#4FC3FF" floodOpacity="0.8" />
                    </filter>
                </defs>

                <g id="hammer-body">
                    <path
                        ref={hammerBodyRef}
                        id="hammer-body-path"
                        className={styles.hammerBody}
                        fill="#1a1a1a"
                        stroke="#4FC3FF"
                        strokeWidth="2"
                        filter="url(#electric-glow-filter)"
                        d="m 4.82329,-1.66877 c 0.62141,-0.24082 2.79671,-1.53712 4.834,-2.88068 8.74517,-5.76731 17.09743,-10.3074 24.02444,-13.05913 10.75487,-4.27233 26.09125,-7.51139 37.2266,-7.86231 5.23446,-0.16496 6.14104,-0.4233 7.74476,-2.20702 3.00117,-3.33803 5.02595,-9.49863 5.39227,-16.40659 0.53575,-10.10301 -3.2152,-25.01723 -9.11867,-36.25684 -4.79122,-9.122 -7.45449,-11.77396 -11.82416,-11.77396 -1.48367,0 -2.11605,0.13768 -3.175,0.69125 -9.47833,4.95486 -11.27549,5.69109 -15.83851,6.48852 -4.65614,0.81371 -9.84627,-0.0336 -14.96236,-2.4427 -1.37008,-0.64514 -2.99408,-1.58519 -3.6089,-2.08898 l -1.11784,-0.91599 -0.1152,0.78489 c -0.14268,0.97212 0.37543,1.48762 2.62467,2.61143 2.42579,1.21201 4.92633,2.10098 6.85404,2.43668 1.56939,0.2733 1.69397,0.34351 1.53322,0.8641 -0.82803,2.68157 -5.61437,8.68207 -9.21813,11.55651 -1.32552,1.05726 -1.43329,1.21559 -1.02899,1.51168 1.09562,0.80237 2.21155,0.0635 7.23133,-4.78789 3.40603,-3.29179 5.21493,-5.44684 6.08372,-7.24791 l 0.66146,-1.37124 2.13416,-0.0103 2.13417,-0.0103 0.75127,1.57185 c 0.4132,0.86452 1.33694,2.14444 2.05275,2.84427 l 1.30148,1.27242 -0.93004,-1.39228 c -0.98955,-1.48135 -1.49153,-3.54922 -1.03768,-4.27463 0.14402,-0.23018 0.57928,-0.45638 0.96725,-0.50266 0.406,-0.0484 0.63328,-0.20084 0.53549,-0.35907 -0.11006,-0.17808 0.0398,-0.20835 0.42552,-0.0859 0.40245,0.12773 0.53737,0.095 0.41627,-0.10092 -0.11344,-0.18355 -0.0239,-0.2303 0.24416,-0.12745 0.23686,0.0909 0.56341,-0.0186 0.74135,-0.24854 0.17491,-0.22605 0.8538,-0.5502 1.50864,-0.72034 0.65484,-0.17013 2.26219,-0.66696 3.57187,-1.10405 5.4338,-1.81346 8.39942,-0.22387 13.25531,7.10489 3.29142,4.96759 6.72824,11.78103 8.25382,16.36307 2.31498,6.95303 3.28649,15.89422 2.25674,20.76979 l -0.19559,0.92605 -0.17831,-0.79375 c -0.0981,-0.43657 -0.1924,-1.82945 -0.20962,-3.09531 -0.10623,-7.81057 -2.69021,-17.9511 -6.36281,-24.97021 -1.65488,-3.16281 -3.13191,-5.66886 -3.34116,-5.66886 -0.0425,0 0.38483,1.06558 0.9497,2.36795 2.5539,5.88831 4.79339,13.12993 6.26358,20.25393 0.6407,3.10459 0.70906,3.98072 0.70188,8.99583 -0.009,6.09149 -0.33171,8.03884 -1.82795,11.02098 -2.39448,4.77243 -5.50857,6.5967 -14.14163,8.28433 -1.96453,0.38403 -4.5839,0.92504 -5.82083,1.20223 -4.90838,1.09996 -11.44923,2.13799 -15.33615,2.43385 -3.86921,0.29452 -4.12375,0.34817 -4.68799,0.98814 -0.32815,0.3722 -0.6004,0.76394 -0.605,0.87053 -0.005,0.1066 1.06104,0.15837 2.36808,0.11505 1.30705,-0.0433 2.34884,-0.0532 2.31511,-0.022 -0.0337,0.0312 -1.2069,0.545 -2.60703,1.14172 -2.68854,1.14583 -3.37594,1.27433 -4.16866,0.77927 -0.6591,-0.41162 -3.11813,0.70183 -2.68979,1.21794 0.38054,0.45853 0.0704,0.67523 -0.96625,0.67523 -0.94782,0 -2.95901,0.92581 -5.83439,2.68574 -2.23936,1.37063 -3.49731,1.81218 -5.16289,1.81218 -2.29741,0 -3.34772,-0.47386 -5.15772,-2.32698 -0.91001,-0.93169 -2.15565,-2.45614 -2.7681,-3.38767 -0.61244,-0.93152 -1.25985,-1.69369 -1.43868,-1.69369 -0.67107,0 -0.63332,0.57972 0.12946,1.98805 0.4324,0.79835 0.65964,1.45154 0.50497,1.45154 -0.15466,0 -0.76829,-0.52858 -1.36361,-1.17462 -0.85194,-0.92453 -1.17665,-1.12132 -1.52507,-0.92429 -0.39625,0.22409 -0.34076,0.4346 0.52917,2.00783 0.97277,1.7592 4.11941,5.39331 5.17389,5.97542 0.30824,0.17016 1.33329,0.5013 2.27788,0.73586 l 1.71744,0.42647 -1.32057,0.75372 c -0.72631,0.41454 -2.43179,1.41865 -3.78996,2.23135 -4.8054,2.87544 -4.89842,2.92026 -6.07395,2.92666 -1.22722,0.007 -2.49784,-0.5474 -4.81811,-2.10103 -1.31965,-0.88364 -3.33009,-2.07478 -5.40985,-3.20524 -1.25515,-0.68224 -1.14936,-1.03755 0.30892,-1.03755 2.49649,0 5.54082,-2.69493 8.1215,-7.1894 0.66719,-1.16196 0.68124,-1.25245 0.23371,-1.50535 -0.39155,-0.22126 -0.66847,-0.0604 -1.55855,0.90555 -1.4443,1.56735 -1.88473,1.48973 -0.87338,-0.15392 0.79598,-1.29364 0.86524,-2.11342 0.17814,-2.10873 -0.18646,0.001 -0.77971,0.68588 -1.31832,1.52135 -1.66617,2.58451 -3.51718,4.45362 -5.28565,5.33733 -2.58897,1.29373 -4.08806,1.0269 -8.38369,-1.49225 -3.21212,-1.88373 -4.47403,-2.44539 -5.51023,-2.45252 -0.46436,-0.003 -0.91787,-0.12487 -1.00781,-0.27039 -0.0899,-0.14552 -0.0374,-0.26459 0.11668,-0.26459 0.57109,0 0.24569,-0.41425 -0.79002,-1.00575 -0.94182,-0.53788 -1.16903,-0.57167 -1.94859,-0.28978 -0.80149,0.28982 -1.14651,0.21908 -3.76047,-0.771 l -2.87801,-1.0901 1.98437,-0.0132 c 2.47307,-0.0165 2.77835,-0.18106 2.02538,-1.0918 -0.54675,-0.66131 -0.73864,-0.70158 -4.67121,-0.98033 -3.94676,-0.27976 -7.86316,-0.93952 -19.97604,-3.36517 -7.84019,-1.57004 -10.82708,-2.80919 -13.31793,-5.52515 -3.31931,-3.61929 -4.70325,-11.04611 -3.62808,-19.46977 0.79442,-6.224 3.5678,-16.06414 6.58089,-23.34948 0.64699,-1.56435 1.13436,-2.84427 1.08303,-2.84427 -0.20688,0 -3.13214,5.19379 -4.06817,7.22302 -3.44792,7.47476 -5.12067,14.60199 -5.48194,23.35733 -0.18638,4.51696 -0.44706,4.77478 -0.88051,0.87086 -0.56258,-5.06707 0.43432,-12.33908 2.5887,-18.8835 2.10764,-6.40245 8.31732,-17.28034 11.96106,-20.95296 2.89192,-2.91483 5.66373,-3.65153 8.99941,-2.39187 1.87719,0.70889 1.92641,0.72296 2.52915,0.72296 0.23423,0 0.33425,0.12659 0.23145,0.29292 -0.12333,0.19956 0.009,0.23269 0.4144,0.10395 0.37762,-0.11985 0.53478,-0.0909 0.42964,0.0793 -0.10169,0.16454 0.0549,0.21053 0.40511,0.11896 0.38832,-0.10155 0.51097,-0.0523 0.3835,0.15394 -0.1215,0.19658 -0.043,0.24781 0.22321,0.14566 0.22584,-0.0867 0.41062,-0.0295 0.41062,0.12702 0,0.15673 0.1978,0.20868 0.44028,0.11563 0.29604,-0.1136 0.3776,-0.0675 0.24897,0.1406 -0.12186,0.19716 0.002,0.30955 0.34102,0.30955 0.29278,0 0.83559,0.13817 1.20624,0.30705 1.41802,0.64609 0.38809,2.92651 -2.21853,4.91216 -1.38923,1.05827 -1.68346,1.65995 -0.81173,1.65995 0.29104,0 0.52917,-0.11906 0.52917,-0.26458 0,-0.14552 0.11906,-0.26458 0.26458,-0.26458 0.14552,0 0.26458,0.17859 0.26458,0.39687 0,0.58886 0.55078,0.48543 1.86643,-0.35048 1.63537,-1.03905 2.75833,-2.40556 3.28848,-4.00168 l 0.45097,-1.35775 2.01562,0.0768 c 2.00972,0.0766 2.0161,0.0792 2.17888,0.87881 0.33381,1.63971 1.68212,4.73777 2.76429,6.35156 1.22359,1.8247 4.89403,5.9149 6.35138,7.07775 0.8864,0.70727 0.95094,0.71924 1.72355,0.31971 l 0.80266,-0.41507 -0.6921,-1.18099 c -0.38066,-0.64954 -0.56173,-1.18098 -0.40238,-1.18098 0.15935,0 0.28972,0.16277 0.28972,0.36171 0,0.19895 0.46468,0.66923 1.03261,1.04507 0.91573,0.606 1.12535,0.64833 1.85208,0.37402 0.45071,-0.17012 0.81948,-0.37301 0.81948,-0.45087 0,-0.0778 -0.89615,-0.91496 -1.99143,-1.86022 -3.79813,-3.2779 -7.92071,-8.49473 -8.69439,-11.00212 -0.1562,-0.50623 -0.0104,-0.58045 1.75199,-0.89162 2.17371,-0.38381 4.33507,-1.13968 6.76217,-2.36488 2.07397,-1.04693 2.70083,-1.66623 2.70083,-2.66824 v -0.78841 l -1.96364,1.33232 c -2.16268,1.46736 -5.34638,2.8604 -8.53234,3.73337 -2.95015,0.80835 -8.01387,0.80387 -11.33215,-0.01 -4.13429,-1.01405 -6.34428,-1.94749 -11.90429,-5.02808 -3.1284,-1.73333 -3.20099,-1.75799 -5.15938,-1.75259 -4.70026,0.013 -7.59239,3.02228 -12.45441,12.95911 -9.61105,19.64272 -11.30847,39.13574 -4.34567,49.90549 1.93228,2.98878 3.28702,3.67263 7.27554,3.67263 5.49595,0 15.31031,1.37657 23.81009,3.33961 13.46198,3.10907 24.01598,7.82983 37.9677,16.9828 6.29838,4.13202 7.32295,4.5096 9.71809,3.58142 z"
                    />
                </g>

                <g id="runes" fill="#4FC3FF" opacity="0.8" ref={runesRef}>
                    ${reactSafeRunes}
                </g>
            </svg>

            <svg
                ref={lightningRef}
                id="energy-lines"
                className={styles.energyLines}
                style={{ overflow: 'visible', position: 'absolute', top: 0, left: 0, width: '100%', height: '100%', pointerEvents: 'none' }}
            >
            </svg>
        </>
    );
});

MjolnirSVG.displayName = "MjolnirSVG";

export default MjolnirSVG;
\`;

fs.writeFileSync(targetPath, tsxContent);
console.log('MjolnirSVG.tsx successfully updated with full rune paths.');
